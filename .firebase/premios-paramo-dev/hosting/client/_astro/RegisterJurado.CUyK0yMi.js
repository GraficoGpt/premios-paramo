import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.BVOCwoKb.js";import{c as g,a as j,s as b,d as N,b as v,T as w}from"./firebase.CkSkgTuA.js";import{C}from"./categories.ChSHB25j.js";function R(){const[s,d]=i.useState({nombre:"",apellido:"",email:"",celular:"",categorias:[]}),[n,x]=i.useState(""),[c,h]=i.useState(""),o=a=>{d({...s,[a.target.name]:a.target.value})},p=a=>{const{value:r,checked:t}=a.target;let l=[...s.categorias];t?l.push(r):l=l.filter(m=>m!==r),d({...s,categorias:l})},f=async a=>{a.preventDefault(),console.log("üöÄ Registrando nuevo jurado con datos:",s);try{const{email:r,celular:t}=s,l=`*${t}*`,u=(await g(j,r,l)).user;console.log("‚úÖ Usuario creado en Authentication:",u.uid),await b(N(v,"jurados",u.uid),{...s,rol:"jurado",fechaRegistro:new Date().toLocaleString("es-CO"),timestamp:w.now()}),console.log("‚úÖ Documento creado en Firestore para el jurado."),window.location.href="/admin/jurado-inscrito"}catch(r){console.error("‚ùå Error al registrar jurado:",r),x("Error al registrar jurado. Verifica los datos o intenta nuevamente."),h("")}};return e.jsxs("form",{onSubmit:f,className:"space-y-6 p-6 bg-white rounded-md shadow-md",children:[e.jsx("h2",{className:"text-xl font-bold text-center mb-4",children:"Registrar Nuevo Jurado"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{htmlFor:"nombre",className:"font-medium text-sm",children:"Nombre"}),e.jsx("input",{id:"nombre",name:"nombre",value:s.nombre,onChange:o,required:!0,className:"w-full px-4 py-2 border rounded-md"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{htmlFor:"apellido",className:"font-medium text-sm",children:"Apellido"}),e.jsx("input",{id:"apellido",name:"apellido",value:s.apellido,onChange:o,required:!0,className:"w-full px-4 py-2 border rounded-md"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"font-medium text-sm",children:"Correo Electr√≥nico"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:o,required:!0,className:"w-full px-4 py-2 border rounded-md"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{htmlFor:"celular",className:"font-medium text-sm",children:"Celular"}),e.jsx("input",{id:"celular",name:"celular",value:s.celular,onChange:o,required:!0,className:"w-full px-4 py-2 border rounded-md"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"font-medium text-sm mb-2",children:"Categor√≠as que puede calificar"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:C.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:a,value:a,checked:s.categorias.includes(a),onChange:p,className:"w-4 h-4"}),e.jsx("label",{htmlFor:a,className:"text-sm",children:a})]},a))}),e.jsx("p",{className:"text-xs text-gray-500",children:"Selecciona una o varias categor√≠as."})]}),n&&e.jsx("div",{className:"text-red-600 font-semibold",children:n}),c&&e.jsx("div",{className:"text-green-600 font-semibold",children:c}),e.jsx("button",{type:"submit",className:"w-full bg-gold-600 text-white py-2 rounded-md hover:bg-gold-700 transition",children:"Registrar Jurado"})]})}export{R as default};
