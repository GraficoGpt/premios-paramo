import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.BVOCwoKb.js";import{d as g,b as h,g as j,s as f,T as N}from"./firebase.CkSkgTuA.js";import{C as y}from"./categories.ChSHB25j.js";const k=o=>{const a=new Date(o),l=a.getDate().toString().padStart(2,"0"),r=(a.getMonth()+1).toString().padStart(2,"0"),c=a.getFullYear(),s=a.getHours().toString().padStart(2,"0"),i=a.getMinutes().toString().padStart(2,"0");return`${l}/${r}/${c} ${s}:${i}`};function D(){const[o,a]=m.useState(""),[l,r]=m.useState(!1),c=async s=>{s.preventDefault(),a(""),r(!0);const i=s.target,t=new FormData(i),n=Object.fromEntries(t.entries());if(!t.get("aceptaReglamento")||!t.get("contactoAutorizado")||!t.get("garantiaVeracidad")){a("‚ö†Ô∏è Debes aceptar todos los t√©rminos antes de enviar."),r(!1);return}try{const d=n.email?.toString().toLowerCase().trim(),p=n.celular?.toString().trim(),b=`${d}-${p}`,u=g(h,"proyectos",b);if((await j(u)).exists()){a("‚ö†Ô∏è Ya existe una postulaci√≥n con este correo y celular."),r(!1);return}const x=new Date().toLocaleString("es-CO",{hour12:!1});await f(u,{...n,fechaEstreno:k(n.fechaEstreno.toString()),fechaRegistro:x,timestamp:N.now(),calificado:!1}),window.location.href="/proyecto-gracias"}catch(d){console.error(d),a("‚ùå No se pudo registrar la obra. Intenta nuevamente."),r(!1)}};return e.jsxs("form",{onSubmit:c,className:"space-y-8 max-w-2xl mx-auto p-6",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsx("p",{children:"Si usted est√° aqu√≠ es porque quiere postular una obra a los Premios Pr√≠ncipe de los P√°ramos 2025, ha le√≠do el reglamento y est√° de acuerdo con su contenido."}),e.jsxs("p",{children:["Si no ha le√≠do el reglamento, puede visualizarlo ",e.jsx("a",{href:"/reglamento",className:"text-blue-600 underline",target:"_blank",children:"aqu√≠"}),"."]}),e.jsx("p",{children:"Ahora que est√° de acuerdo con las reglas y condiciones para postular una obra, por favor diligencie los siguientes datos. Todos los campos son obligatorios."})]}),o&&e.jsx("p",{className:"text-red-600",children:o}),l&&e.jsx("p",{className:"text-blue-600",children:"Enviando..."}),e.jsxs("fieldset",{className:"space-y-4",children:[e.jsx("legend",{className:"font-semibold text-lg text-gold-500",children:"üßç Datos del postulante"}),e.jsxs("label",{className:"block",children:["Nombre y apellido de quien postula:",e.jsx("input",{name:"nombrePostulante",required:!0,className:"w-full p-2 border rounded"})]}),e.jsxs("label",{className:"block",children:["Perfil del postulante:",e.jsxs("select",{name:"perfil",required:!0,className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"",children:"Seleccione una opci√≥n"}),e.jsx("option",{value:"autor",children:"Autor(a) de la obra"}),e.jsx("option",{value:"productor",children:"Productor(a) de la obra"}),e.jsx("option",{value:"ejecutivo",children:"Ejecutivo(a) del medio donde se estren√≥ la obra"})]})]}),e.jsxs("label",{className:"block",children:["Correo electr√≥nico:",e.jsx("input",{type:"email",name:"email",required:!0,className:"w-full p-2 border rounded"})]}),e.jsxs("label",{className:"block",children:["Celular:",e.jsx("input",{type:"tel",name:"celular",required:!0,className:"w-full p-2 border rounded"})]})]}),e.jsxs("fieldset",{className:"space-y-4",children:[e.jsx("legend",{className:"font-semibold text-lg text-gold-500",children:"üé¨ Informaci√≥n de la obra"}),e.jsxs("label",{className:"block",children:["Nombre de la obra:",e.jsx("input",{name:"nombreObra",required:!0,className:"w-full p-2 border rounded"}),e.jsx("small",{className:"text-gray-600 block",children:"Si se trata de una temporada en especial, se debe mencionar."})]}),e.jsxs("label",{className:"block",children:["Nombre del escritor(a) o escritores de la obra:",e.jsx("input",{name:"escritores",required:!0,className:"w-full p-2 border rounded"}),e.jsx("small",{className:"text-gray-600 block",children:"Esta informaci√≥n debe coincidir con los cr√©ditos de la obra."})]}),e.jsxs("label",{className:"block",children:["Fecha de estreno de la obra:",e.jsx("input",{type:"date",name:"fechaEstreno",required:!0,className:"w-full p-2 border rounded"})]}),e.jsxs("label",{className:"block",children:["Sinopsis de la obra:",e.jsx("textarea",{name:"sinopsis",rows:4,required:!0,className:"w-full p-2 border rounded resize-y"})]})]}),e.jsxs("fieldset",{className:"space-y-4",children:[e.jsx("legend",{className:"font-semibold text-lg text-gold-500",children:"üîó Enlaces de postulaci√≥n"}),e.jsxs("label",{className:"block",children:["Imagen oficial:",e.jsx("input",{type:"url",name:"linkImagen",required:!0,className:"w-full p-2 border rounded"}),e.jsx("small",{className:"text-gray-600 block",children:"Link a imagen cuadrada en Drive sin solicitud de acceso."})]}),e.jsxs("label",{className:"block",children:["Libreto oficial:",e.jsx("input",{type:"url",name:"linkLibreto",required:!0,className:"w-full p-2 border rounded"}),e.jsx("small",{className:"text-gray-600 block",children:"Debe coincidir con el cap√≠tulo que se env√≠a."})]}),e.jsxs("label",{className:"block",children:["Obra audiovisual o tr√°iler:",e.jsx("input",{type:"url",name:"linkVideo",required:!0,className:"w-full p-2 border rounded"}),e.jsx("small",{className:"text-gray-600 block",children:"Puede ser link de Drive (sin solicitud), Vimeo, YouTube, plataforma gratuita o de pago. No obligatorio para teatro, circo o videojuego."})]})]}),e.jsxs("fieldset",{className:"space-y-2",children:[e.jsx("legend",{className:"font-semibold text-lg text-gold-500",children:"üèÜ Categor√≠a de postulaci√≥n"}),y.map(s=>e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"checkbox",name:"categorias",value:s,className:"mr-2"}),s]},s))]}),e.jsxs("fieldset",{className:"space-y-2",children:[e.jsx("legend",{className:"font-semibold text-lg text-gold-500",children:"‚úÖ Consentimientos"}),e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"checkbox",name:"aceptaReglamento",required:!0,className:"mr-2"}),"He le√≠do el reglamento y estoy de acuerdo con su contenido."]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"checkbox",name:"contactoAutorizado",required:!0,className:"mr-2"}),"La organizaci√≥n puede usar mis datos para contactarme."]}),e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"checkbox",name:"garantiaVeracidad",required:!0,className:"mr-2"}),"Garantizo que la informaci√≥n es veraz y tengo facultad para postular esta obra."]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"reset",className:"border px-4 py-2 rounded text-gray-700",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:l,className:"bg-gold-600 text-black font-semibold px-4 py-2 rounded disabled:opacity-50",children:l?"Enviando...":"Postular"})]})]})}export{D as default};
